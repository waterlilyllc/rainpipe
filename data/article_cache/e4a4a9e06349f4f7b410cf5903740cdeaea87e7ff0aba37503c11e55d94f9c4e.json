{
  "url": "https://zenn.dev/ficilcom/articles/da858df304b588",
  "content": {
    "text": "Claude Code を Serena MCP で強化しよう！Cursorとも連携するよ。 Zenn フィシルコム フィシルコム Publicationへの投稿 🥰 Claude Code を Serena MCP で強化しよう！Cursorとも連携するよ。 moi 2025/08/19 に公開 2025/08/22 AI Model Context Protocol Cursor Claude Serena tech 対象読者 この記事は「AI駆動開発に入門する前の自分自身」へ向けて書きました。 同時に「AIを駆使した新しい開発スタイル」に関心をお持ちの皆さまのご参考になれば幸いです。 Serena MCPの利点 最初にSerena MCPを紹介しつつ、導入のメリットを簡単に整理します。 https://github.com/oraios/serena Serena MCPはローカル環境で動作するコーディングエージェントツールキットで、AIエージェントがコードを参照したり探索するのをサポートします。Serena MCPを利用することでAIエージェントはこれまで以上に正確なコード生成や提案ができるようになります。 また、Serena MCPのデータ処理はすべてローカルで完結するため、APIキー等は不要で外部通信は発生せず、セキュリティ面でも安心して利用できます。しかもOSSなので無料です。 従来のIDEの参照/探索機能は、言語サーバープロトコル (LSP) による構文解析によって実現されていますが、Serena MCPは上記に加えて「セマンティック解析（意味理解による解析）」が強化されているのが特徴です。 以下は人間が利用するIDEと、AIが利用するSerena MCPの特徴の比較です。 人間をサポートするIDEが得意とする機能： ・リアルタイムの開発支援（オートコンプリート、エラー表示） ・構文解析、型チェック、静的解析 ・定義ジャンプ、参照検索、リファクタリング ・プラグインエコシステムによる機能拡張 AIエージェントを補助するSerena MCPの強み： ・言語サーバープロトコル（LSP）を活用したコード理解 ・セマンティック（意味的）なコード検索・編集機能 ・大規模で複雑なプロジェクトでの効率的なコンテキスト取得 ・find_symbol、find_referencing_symbols、insert_after_symbolなどの専用ツール 従来のAIチャットを通じたコード修正では、「ユーザーから指定された範囲内での限定的なコード探索」などで得られる不十分な情報をもとにレスポンスが生成されるため、ユーザーは精度の低い不満足な回答を受け取ることが少なくありませんでした。 しかし、Serena MCPを連携することでAIエージェントは「IDEを駆使する人間と同じようなコード探索能力」を獲得することとなり、より正確なコード解析に基づいた提案をすることが可能になります。 下記のイメージのように、ユーザーのリクエストを受け取ったAIエージェントは、Serena MCPのコード解析機能を利用して、より正確なレスポンスを作成してユーザーに返します。 ユーザー ←→ AIチャット（Claude） ←→ MCP Server (Serena) それでは実際にAI搭載のIDEであるCursorにSerena MCPを連携していきましょう。 Cursor連携の手順 1. uv のインストール Python パッケージマネージャーである uv を導入します。 # Homebrewを使用する場合 brew install uv # curlを使用する場合 curl -LsSf https://astral.sh/uv/install.sh | sh 2. claude-code のインストール Serena MCPの実行に必要なclaude codeをインストールします。 # npmを使用する場合 npm install -g @anthropic-ai/claude-code # pnpmを使用する場合 pnpm add -g @anthropic-ai/claude-code 3. CursorのMCP設定 Cursor &gt; Preferrences &gt; Cursor Settings 検索欄に mcp と入力 &gt; MCP Tools &gt; Add Custom MCP ~/.cursor/mcp.json が開くので以下を追加します。 { \"mcpServers\": { \"serena\": { \"command\": \"uvx\", \"args\": [ \"--from\", \"git+https://github.com/oraios/serena\", \"serena-mcp-server\", \"--context\", \"ide-assistant\" ] } } } Cursor起動時に自動で読み込まれる .cursorrules ファイルに以下を追加します。 ## Serena MCP使用ガイドライン - **複雑なコード解析**や**アーキテクチャ理解**が必要な場面では積極的にSerenaを使用する - **Serena推奨場面**： - コードベース全体の構造理解 - シンボル間の参照関係調査 - クラス・関数・変数の使用箇所特定 - ファイル間の依存関係分析 - 大規模リファクタリングの影響範囲調査 - 設計パターンの実装箇所探索 - バグの原因となる関連コード特定 - **通常ツール推奨場面**： - 単純なファイル読み込み・編集 - 既知のファイル・関数への直接的な変更 - シンプルな文字列検索・置換 - Serena MCPの機能を活用して効率的で正確なコード分析を心がける 4.動作確認 Cursorを再起動してAIチャットを開き、Serena MCPの動作確認の指示をします。 以下の通り、無事にSerena MCPの動作確認ができました。 以上でSerena MCPのCursor連携は完了です。 フィシルコム により固定 MMM(マーケティングミックスモデリング)を実現するSaaSを開発しています。ワンクリックであらゆるWebデータを一つに！ 製品紹介 フィシルコムでは、一緒に事業をグロースさせる仲間を随時募集しています。（正社員・業務委託・副業・インターン問わず）ソフトウェア開発の 最先端 かつ 最適解 を求めるメンバーが集まっています。 メンバー募集/カジュアル面談 moi Backend Software Developer フィシルコム Publication フィシルコムのテックブログです。マーケティングSaaSを開発しています。 マイクロサービス・AWS・NextJS・Golang・GraphQLに関する発信が多めです。 カジュアル面談はこちら（ ficilcom.notion.site/bbceed45c3e8471691ee4076250cd4b1 ）から Discussion moi Backend Software Developer 目次 対",
    "extracted_at": "2025-08-23T14:24:56+09:00"
  },
  "cached_at": "2025-08-23T14:24:56+09:00"
}